$.fn.gLoader=function(){var a={meta:{obj:$(this),srlW:0},block:function(){var b=a;b.meta.srlW=b.scrollbarWidth(),b.appendGL(),b.styleIE7n8()},unblock:function(){var b=a;b.meta.obj.each(function(){var a=$(this),c=$(this).find("> #gL");c.fadeOut({complete:function(){a.css({position:b.meta.obj.attr("cssProp").split(",")[0],overflow:b.meta.obj.attr("cssProp").split(",")[1]}),c.remove()}})})},appendGL:function(){var b=a,c=$("<div>").attr({id:"gL"});b.meta.obj.each(function(){var a=$(this),d=b.objW(a),e=b.objH(a);if(0===a.find("> #gL").length){var f=c.clone();b.setClass(a,f),a.attr({cssProp:a.css("position")+","+a.css("overflow")}),a.css({position:"relative",overflow:"hidden"}).append(f.css({width:d+b.srlW+"px",height:e+"px",top:b.scrollTop(a)+"px"}).fadeIn()),$(window).on("resize",function(){b.resize()}),$(window).on("scroll",function(){b.resize()})}})},objW:function(a){return"body"==a.get(0).nodeName.toLowerCase()?$(window).width():$(a).outerWidth()},objH:function(a){return"body"==a.prop("tagName").toLowerCase()?$(window).height():$(a).outerHeight()},scrollbarWidth:function(){var a,b,c;return void 0===c&&(a=$('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),c=b.innerWidth()-b.height(99).innerWidth(),a.remove()),c},scrollTop:function(a){return"body"==a.prop("tagName").toLowerCase()?$(window).scrollTop():a.scrollTop()},setClass:function(b,c){var d=a,e=d.objW(b),f=d.objH(b),g="nLoader45";e>0&&f>0&&(100>=e||100>=f)?g="nLoader20":e>100&&f>100&&(400>=e||400>=f)&&(g="nLoader20"),c.removeClass(function(a,b){return(b.match(/nLoader\S+/g)||[]).join(" ")}).addClass(g)},resize:function(){var b=a;b.meta.obj.each(function(){var a=$(this),c=(b.objW(a),b.objH(a),null);0!==a.find("> #gL").length&&(c=a.find("> #gL"),b.setClass(a,c),c.css({width:b.objW(a)+b.srlW+"px",height:b.objH(a)+"px",top:b.scrollTop(a)+"px"}))})},styleIE7n8:function(){var a='<!--[if lt IE 9]><style type="text/css">.nLoader60,.nLoader45,.nLoader20,.nLoader15,.nLoader10{background-color:#fff; filter:alpha(opacity=80);}<![endif]-->';$("head").append(a)}};return{block:a.block,unblock:a.unblock,resize:a.resize}};